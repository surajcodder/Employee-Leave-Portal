sap.ui.define(["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("project1.controller.View1",{onInit:function(){debugger;const e=this.getOwnerComponent().getRouter();e.getRoute("View1").attachPatternMatched(this._onRouteMatched,this);const t=this.getOwnerComponent().getModel("userModel");debugger;if(!t){sap.m.MessageToast.show("User not found. Please login again.");this.getOwnerComponent().getRouter().navTo("RouteLogin")}},_onRouteMatched:function(){const e=this.byId("leaveRequestTable");const t=e.getBinding("items");if(t){t.refresh()}},onAfterRendering:function(){debugger;const e=this.byId("leaveRequestTable");const t=e.getItems();t.forEach(e=>{const t=e.getCells()[4];const o=t.getText();if(o==="Approved"){t.addStyleClass("statusGreen")}else if(o==="Pending"){t.addStyleClass("statusOrange")}else if(o==="Cancel"){t.addStyleClass("statusRed")}})},onUpdate:function(e){debugger;var t=sap.ui.core.UIComponent.getRouterFor(this);t.navTo("UpdateLeaveReq");debugger},onCreate:function(e){debugger;var t=sap.ui.core.UIComponent.getRouterFor(this);t.navTo("LeaveReqObject");debugger},onViewLeave:function(e){const t=e.getSource().getParent().getParent().getBindingContext().getProperty("ID");this.getOwnerComponent().getRouter().navTo("LeaveReqDetailed",{ID:t})},onEditLeave:function(e){const t=e.getSource().getParent().getParent().getBindingContext().getProperty("ID");this.getOwnerComponent().getRouter().navTo("UpdateLeaveReq",{ID:t})},onDeleteLeave:function(e){const t=e.getSource().getParent().getParent().getBindingContext();const o=this.getView().getModel();const n=t.getPath();MessageBox.confirm("Are you sure you want to delete this leave request?",{onClose:e=>{if(e==="OK"){o.remove(n,{success:()=>MessageToast.show("Leave request deleted."),error:()=>MessageToast.show("Failed to delete.")})}}})}})});
//# sourceMappingURL=View1.controller.js.map