sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(e,t){"use strict";return e.extend("project1.controller.LeaveReqDetailed",{onInit:function(){const e=this.getOwnerComponent().getRouter();e.getRoute("LeaveReqDetailed").attachPatternMatched(this._onLeaveReqMatched,this);this.getView().setModel(new t,"context");this.getView().setModel(new t({items:[]}),"documents")},_onLeaveReqMatched:function(e){const t=e.getParameter("arguments").ID;if(!t)return;const n=this.getView();const o="/LeaveRequest(ID="+t+",IsActiveEntity=true)";n.bindElement({path:o,parameters:{expand:"files"},events:{dataReceived:function(e){const t=e.getParameter("data");if(t){n.getModel("context").setData(t);n.getModel("documents").setData({items:t.files||[]})}}}})},openPreview:function(e){const t=e.getSource().getBindingContext("documents");const n=t.getObject();if(!n||!n.content){sap.m.MessageToast.show("No file content available.");return}const o=atob(n.content);const a=new Array(o.length);for(let e=0;e<o.length;e++){a[e]=o.charCodeAt(e)}const s=new Uint8Array(a);const i=new Blob([s],{type:n.mediaType});const c=URL.createObjectURL(i);window.open(c,"_blank")},onNavBack:function(){this.getOwnerComponent().getRouter().navTo("RouteView1",{},true)}})});
//# sourceMappingURL=LeaveReqDetailed.controller.js.map